{"title":"day02-用户管理模块","uid":"35fec71f027e3bb1983fb3c45c0e02de","slug":"springboot-vue-wx-project/day02-用户管理模块","date":"2022-07-06T11:33:17.000Z","updated":"2022-07-11T07:51:33.744Z","comments":true,"path":"api/articles/springboot-vue-wx-project/day02-用户管理模块.json","keywords":"Java study learn 学习","cover":null,"content":"<p>用户管理模块</p>\n<span id=\"more\"></span>\n\n<h1 id=\"查询\"><a href=\"#查询\" class=\"headerlink\" title=\"查询\"></a>查询</h1><pre class=\"line-numbers language-sequence\" data-language=\"sequence\"><code class=\"language-sequence\">Title:条件查询\n移动端-&gt;UserController:1.searchUserByPage\nUserController-&gt;UserService:2.searchUserByPage\nUserService-&gt;TbUserDao:3.searchUserByPage\nTbUserDao--&gt;UserService:4.ArrayList\n\nUserService-&gt;TbUserDao:5.searchUserCount\nTbUserDao--&gt;UserService:6.long\nUserService--&gt;UserController:7.PageUtils\nUserController--&gt;移动端:8.R</code></pre>\n\n\n\n<h2 id=\"前端：\"><a href=\"#前端：\" class=\"headerlink\" title=\"前端：\"></a>前端：</h2><h3 id=\"user-vue\"><a href=\"#user-vue\" class=\"headerlink\" title=\"user.vue:\"></a>user.vue:</h3><h4 id=\"template\"><a href=\"#template\" class=\"headerlink\" title=\"template:\"></a>template:</h4><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">:data&#x3D;&quot;dataList&quot; \t\t\t\t绑定数据集合\n:model&#x3D;&quot;dataForm&quot;\t\t\t\t查询条件集合\nv-model&#x3D;&quot;dataForm.name&quot;\t\t\t查询条件集合中的name\nv-model&#x3D;&quot;dataForm.sex&quot;\t\t\t查询条件集合中的sex\nv-model&#x3D;&quot;dataForm.role&quot;\t\t\t查询条件集合中的role\nv-model&#x3D;&quot;dataForm.deptId&quot;\t\t查询条件集合中的deptId\nv-model&#x3D;&quot;dataForm.status&quot;\t\t查询条件集合中的status\n:page-sizes&#x3D;&quot;[10, 20, 50]&quot; :page-size&#x3D;&quot;pageSize&quot; :total&#x3D;&quot;totalCount&quot;\n\t\t\t\t\t\t\t\t分页条件：当前页号，记录总数</code></pre>\n\n<h4 id=\"script\"><a href=\"#script\" class=\"headerlink\" title=\"script:\"></a>script:</h4><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">searchHandle: function() &#123;\n\tthis.$refs[&#39;dataForm&#39;].validate(valid &#x3D;&gt; &#123;\n\t\tif (valid) &#123;\t\n\t\t\tthis.$refs[&#39;dataForm&#39;].clearValidate();\n\t\t\tif (this.dataForm.name &#x3D;&#x3D; &#39;&#39;) &#123;\n\t\t\t\tthis.dataForm.name &#x3D; null;\n\t\t\t&#125;\n\t\t\tif (this.pageIndex !&#x3D; 1) &#123;\n\t\t\t\tthis.pageIndex &#x3D; 1;\n\t\t\t&#125;\n\t\t\tthis.loadDataLiat();\n\t\t&#125; else &#123;\n\t\t\treturn false;\n\t&#125;);\n&#125;,\nloadDataLiat: function() &#123;\n\tlet that &#x3D; this;\n\tthat.dataListLoading &#x3D; true;\n\tlet data &#x3D; &#123;\n\t\tpage: that.pageIndex,\n\t\tlength: that.pageSize,\n\t\tname: that.dataForm.name,\n\t\tsex: that.dataForm.sex,\n\t\trole: that.dataForm.role,\n\t\tdeptId: that.dataForm.deptId,\n\t\tstatus: that.dataForm.status\n\t&#125;;\n\t&#x2F;&#x2F;\n\tthat.$http(&#39;user&#x2F;searchUserByPage&#39;, &#39;POST&#39;, data, true, function(resp) &#123;\n\t\tlet page &#x3D; resp.page;\n\t\tlet list &#x3D; page.list;\n\t\tfor (let one in list) &#123;\n\t\t\tif (one.status &#x3D;&#x3D; 1) &#123;\n\t\t\t\tone.status &#x3D; &#39;在职&#39;;\n\t\t\t&#125; else if (one.status &#x3D;&#x3D; 2) &#123;\n\t\t\t\tone.status &#x3D; &#39;离职&#39;;\n\t\t\t&#125;\n\t\t&#125;\n\t\tthat.dataList &#x3D; list;\n\t\tthat.totalCount &#x3D; page.totalCount;\n\t\tthat.dataListLoading &#x3D; false;\n\t&#125;)\n&#125;</code></pre>\n\n<h2 id=\"后端：\"><a href=\"#后端：\" class=\"headerlink\" title=\"后端：\"></a>后端：</h2><h3 id=\"DAO\"><a href=\"#DAO\" class=\"headerlink\" title=\"DAO:\"></a>DAO:</h3><h4 id=\"TbUserDao\"><a href=\"#TbUserDao\" class=\"headerlink\" title=\"TbUserDao:\"></a>TbUserDao:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public ArrayList&lt;HashMap&gt; searchUserByPage(HashMap param);\n\npublic long searchUserCount(HashMap param);</code></pre>\n\n<h4 id=\"TbUserDao-xml\"><a href=\"#TbUserDao-xml\" class=\"headerlink\" title=\"TbUserDao.xml:\"></a>TbUserDao.xml:</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;select id&#x3D;&quot;searchUserByPage&quot; parameterType&#x3D;&quot;HashMap&quot; resultType&#x3D;&quot;HashMap&quot;&gt;\n  SELECT DISTINCT u.id,\n                  u.name,\n                  u.sex,\n                  u.tel,\n                  u.email,\n                  d.dept_name as dept,\n                  u.hiredate,\n                  u.root,\n                  u.status,\n                  (\n                      SELECT GROUP_CONCAT(role_name separator &quot;，&quot;)\n                      FROM tb_role\n                      WHERE JSON_CONTAINS(u.role,CONVERT (id,CHAR ))\n                  ) as roles\n  FROM tb_user u\n  JOIN tb_role r ON JSON_CONTAINS(u.role,CONVERT (r.id,CHAR ))\n  LEFT JOIN tb_dept d ON u.dept_id&#x3D;d.id\n  &lt;where&gt;\n    &lt;if test&#x3D;&quot;name!&#x3D;null&quot;&gt;\n      u.name LIKE &#39;%$&#123;name&#125;%&#39;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;sex!&#x3D;null&quot;&gt;\n      AND u.sex &#x3D; #&#123;sex&#125;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;role!&#x3D;null&quot;&gt;\n      AND r.role_name &#x3D; #&#123;role&#125;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;deptId!&#x3D;null&quot;&gt;\n      AND d.id &#x3D; #&#123;deptId&#125;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;status!&#x3D;null&quot;&gt;\n      AND u.status &#x3D; #&#123;status&#125;\n    &lt;&#x2F;if&gt;\n  &lt;&#x2F;where&gt;\n  LIMIT #&#123;start&#125;,#&#123;length&#125;\n&lt;&#x2F;select&gt;\n&lt;select id&#x3D;&quot;searchUserCount&quot; parameterType&#x3D;&quot;HashMap&quot; resultType&#x3D;&quot;long&quot;&gt;\n  SELECT count(DISTINCT u.id)\n  FROM tb_user u\n  JOIN tb_role r ON  JSON_CONTAINS(u.role,CONVERT (r.id,CHAR ))\n  &lt;where&gt;\n    &lt;if test&#x3D;&quot;name!&#x3D;null&quot;&gt;\n      u.name LIKE &#39;%$&#123;name&#125;%&#39;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;sex!&#x3D;null&quot;&gt;\n      AND u.sex &#x3D; #&#123;sex&#125;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;role!&#x3D;null&quot;&gt;\n      AND r.role_name &#x3D; #&#123;role&#125;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;deptId!&#x3D;null&quot;&gt;\n      AND u.dept_id &#x3D; #&#123;deptId&#125;\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;status!&#x3D;null&quot;&gt;\n      AND u.status &#x3D; #&#123;status&#125;\n    &lt;&#x2F;if&gt;\n  &lt;&#x2F;where&gt;\n&lt;&#x2F;select&gt;</code></pre>\n\n<h3 id=\"Service：\"><a href=\"#Service：\" class=\"headerlink\" title=\"Service：\"></a>Service：</h3><h4 id=\"UserService\"><a href=\"#UserService\" class=\"headerlink\" title=\"UserService:\"></a>UserService:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public PageUtils searchUserByPage(HashMap param);\n\npublic long searchUserCount(HashMap param);</code></pre>\n\n<h4 id=\"UserServiceImpl\"><a href=\"#UserServiceImpl\" class=\"headerlink\" title=\"UserServiceImpl:\"></a>UserServiceImpl:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Override\npublic PageUtils searchUserByPage(HashMap param) &#123;\n    ArrayList&lt;HashMap&gt; list &#x3D; userDao.searchUserByPage(param);\n    Integer start &#x3D; (Integer) param.get(&quot;start&quot;);\n    Integer length &#x3D; (Integer) param.get(&quot;length&quot;);\n    long count &#x3D; userDao.searchUserCount(param);\n    return new PageUtils(list, count, start, length);\n&#125;\n\n@Override\npublic long searchUserCount(HashMap param) &#123;\n    return userDao.searchUserCount(param);\n&#125;</code></pre>\n\n<h3 id=\"Controller\"><a href=\"#Controller\" class=\"headerlink\" title=\"Controller:\"></a>Controller:</h3><h4 id=\"SearchUserByPageForm\"><a href=\"#SearchUserByPageForm\" class=\"headerlink\" title=\"SearchUserByPageForm:\"></a>SearchUserByPageForm:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Data\n@Schema(description &#x3D; &quot;查询用户分页记录表单&quot;)\npublic class SearchUserByPageForm &#123;\n    @NotNull(message &#x3D; &quot;page不能为空&quot;)\n    @Min(value &#x3D; 1,message &#x3D; &quot;页数不能小于1&quot;)\n    @Schema(description &#x3D; &quot;页数&quot;)\n    private Integer page;\n\n    @NotNull(message &#x3D; &quot;length不能为空&quot;)\n    @Range(min &#x3D; 10,max &#x3D; 50,message &#x3D; &quot;length必须在10-50之间&quot;)\n    @Schema(description &#x3D; &quot;每页记录数&quot;)\n    private Integer length;\n\n    @Pattern(regexp &#x3D; &quot;^[\\\\u4e00-\\\\u9fa5]&#123;1,10&#125;$&quot;,message &#x3D; &quot;name内容不正确&quot;)\n    @Schema(description &#x3D; &quot;姓名&quot;)\n    private String name;\n\n    @Pattern(regexp &#x3D; &quot;^[a-zA-Z0-9\\\\u4e00-\\\\u9fa5]&#123;2,10&#125;$&quot;,message &#x3D; &quot;role内容不正确&quot;)\n    @Schema(description &#x3D; &quot;角色&quot;)\n    private String role;\n\n    @Pattern(regexp &#x3D; &quot;^男$|^女$&quot;,message &#x3D; &quot;sex内容不正确&quot;)\n    @Schema(description &#x3D; &quot;性别&quot;)\n    private String sex;\n\n    @Min(value &#x3D; 1,message &#x3D; &quot;dept不能小于1&quot;)\n    @Schema(description &#x3D; &quot;部门&quot;)\n    private Integer deptId;\n\n    @Min(value &#x3D; 1,message &#x3D; &quot;status不能小于1&quot;)\n    @Schema(description &#x3D; &quot;状态&quot;)\n    private Integer status;\n&#125;</code></pre>\n\n<h4 id=\"UserController\"><a href=\"#UserController\" class=\"headerlink\" title=\"UserController:\"></a>UserController:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@PostMapping(&quot;&#x2F;searchUserByPage&quot;)\n@Operation(summary &#x3D; &quot;分页查询&quot;)\n@SaCheckPermission(value &#x3D; &#123;&quot;ROOT&quot;, &quot;USER:SELECT&quot;&#125;, mode &#x3D; SaMode.OR)\npublic R searchUserByPage(@Valid @RequestBody SearchUserByPageForm form)&#123;\n   int page&#x3D; form.getPage();\n   int length&#x3D;form.getLength();\n   int start&#x3D;(page-1)*length;\n   HashMap map &#x3D; JSONUtil.parse(form).toBean(HashMap.class);\n   map.put(&quot;start&quot;,start);\n   PageUtils pageUtils &#x3D; userService.searchUserByPage(map);\n   return R.ok().put(&quot;page&quot;,pageUtils);\n&#125;</code></pre>\n\n<h1 id=\"增加-x2F-修改\"><a href=\"#增加-x2F-修改\" class=\"headerlink\" title=\"增加&#x2F;修改\"></a>增加&#x2F;修改</h1><h2 id=\"前端\"><a href=\"#前端\" class=\"headerlink\" title=\"前端\"></a>前端</h2><h3 id=\"user-vue-1\"><a href=\"#user-vue-1\" class=\"headerlink\" title=\"user.vue\"></a>user.vue</h3><h4 id=\"Template\"><a href=\"#Template\" class=\"headerlink\" title=\"Template:\"></a>Template:</h4><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;el-button size&#x3D;&quot;medium&quot; type&#x3D;&quot;primary&quot; :disabled&#x3D;&quot;!isAuth([&#39;ROOT&#39;, &#39;USER:INSERT&#39;])&quot;@click&#x3D;&quot;addHandle()&quot;&gt;\n\t新增\n&lt;&#x2F;el-button&gt;\n&lt;el-button type&#x3D;&quot;text&quot; size&#x3D;&quot;medium&quot; v-if&#x3D;&quot;isAuth([&#39;ROOT&#39;, &#39;USER:UPDATE&#39;])&quot;@click&#x3D;&quot;updateHandle(scope.row.id)&quot;&gt;\n\t\t\t\t\t\t修改\n&lt;&#x2F;el-button&gt;\n&lt;add-or-update v-if&#x3D;&quot;addOrUpdateVisible&quot; ref&#x3D;&quot;addOrUpdate&quot; @refreshDataList&#x3D;&quot;loadDataList&quot;&gt;&lt;&#x2F;add-or-update&gt;</code></pre>\n\n<h4 id=\"script-1\"><a href=\"#script-1\" class=\"headerlink\" title=\"script:\"></a>script:</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">addHandle: function() &#123;\n\tthis.addOrUpdateVisible &#x3D; true;\n\tthis.$nextTick(() &#x3D;&gt; &#123;\n\t\tthis.$refs.addOrUpdate.init();\n\t&#125;)\n&#125;,\n         updateHandle: function(id) &#123;\n\tthis.addOrUpdateVisible &#x3D; true;\n\tthis.$nextTick(() &#x3D;&gt; &#123;\n\t\tthis.$refs.addOrUpdate.init(id);\n\t&#125;);\n&#125;</code></pre>\n\n<h3 id=\"user-add-or-update-vue\"><a href=\"#user-add-or-update-vue\" class=\"headerlink\" title=\"user-add-or-update.vue\"></a>user-add-or-update.vue</h3><h4 id=\"template-1\"><a href=\"#template-1\" class=\"headerlink\" title=\"template:\"></a>template:</h4><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">v-model&#x3D;&quot;dataForm.username&quot;\nv-model&#x3D;&quot;dataForm.password&quot;\nv-model&#x3D;&quot;dataForm.name&quot;\nv-model&#x3D;&quot;dataForm.sex&quot;\nv-model&#x3D;&quot;dataForm.tel&quot;\nv-model&#x3D;&quot;dataForm.email&quot;\nv-model&#x3D;&quot;dataForm.hiredate&quot;\nv-model&#x3D;&quot;dataForm.role&quot;\nv-model&#x3D;&quot;dataForm.deptId&quot;\n&lt;el-button type&#x3D;&quot;primary&quot; size&#x3D;&quot;medium&quot; @click&#x3D;&quot;dataFormSubmit&quot;&gt;确定&lt;&#x2F;el-button&gt;</code></pre>\n\n<h4 id=\"script-2\"><a href=\"#script-2\" class=\"headerlink\" title=\"script:\"></a>script:</h4><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">\tinit: function(id) &#123;\n\t\tlet that &#x3D; this;\n\t\tthat.dataForm.id &#x3D; id || 0;\n\t\tthat.visible &#x3D; true;\n\t\tthat.$nextTick(() &#x3D;&gt; &#123;\n\t\t\tthat.$refs[&#39;dataForm&#39;].resetFields();\n\t\t\tthat.$http(&#39;role&#x2F;searchAllRole&#39;, &#39;GET&#39;, null, true, function(resp) &#123;\n\t\t\t\tthat.roleList &#x3D; resp.list;\n\t\t\t&#125;);\n\t\t\tthat.$http(&#39;dept&#x2F;searchAllDept&#39;, &#39;GET&#39;, null, true, function(resp) &#123;\n\t\t\t\tthat.deptList &#x3D; resp.list;\n\t\t\t&#125;);\n\t\t\tif (that.dataForm.id) &#123;\n\t\t\t\tthat.$http(&#39;user&#x2F;searchById&#39;, &#39;POST&#39;, &#123;\n\t\t\t\t\tuserId: id\n\t\t\t\t&#125;, true, function(resp) &#123;\n\t\t\t\t\tthat.dataForm.username &#x3D; resp.username;\n\t\t\t\t\tthat.dataForm.password &#x3D; resp.password;\n\t\t\t\t\tthat.dataForm.name &#x3D; resp.name;\n\t\t\t\t\tthat.dataForm.sex &#x3D; resp.sex;\n\t\t\t\t\tthat.dataForm.tel &#x3D; resp.tel;\n\t\t\t\t\tthat.dataForm.email &#x3D; resp.email;\n\t\t\t\t\tthat.dataForm.hiredate &#x3D; resp.hiredate;\n\t\t\t\t\tthat.dataForm.role &#x3D; JSON.parse(resp.role);\n\t\t\t\t\tthat.dataForm.deptId &#x3D; resp.deptId;\n\t\t\t\t\tthat.dataForm.status &#x3D; resp.status;\n\t\t\t\t&#125;);\n\t\t\t&#125;\n\t\t&#125;);\n\t&#125;,\n\tdataFormSubmit: function() &#123;\n\t\tlet that &#x3D; this;\n\t\tthis.$refs[&#39;dataForm&#39;].validate(valid &#x3D;&gt; &#123;\n\t\t\tif (valid) &#123;\n\t\t\t\tlet data &#x3D; &#123;\n\t\t\t\t\tuserId: that.dataForm.id,\n\t\t\t\t\tusername: that.dataForm.username,\n\t\t\t\t\tpassword: that.dataForm.password,\n\t\t\t\t\tname: that.dataForm.name,\n\t\t\t\t\tsex: that.dataForm.sex,\n\t\t\t\t\ttel: that.dataForm.tel,\n\t\t\t\t\temail: that.dataForm.email,\n\t\t\t\t\thiredate: dayjs(that.dataForm.hiredate).format(&#39;YYYY-MM-DD&#39;),\n\t\t\t\t\trole: that.dataForm.role,\n\t\t\t\t\tdeptId: that.dataForm.deptId,\n\t\t\t\t\tstatus: that.dataForm.status\n\t\t\t\t&#125;;\n\t\t\t\tthat.$http(&#96;user&#x2F;$&#123;!that.dataForm.id ? &#39;insert&#39; : &#39;update&#39; &#125;&#96;, &#39;POST&#39;, data, function(\n\t\t\t\tresp) &#123;\n\t\t\t\t\tif (resp.rows &#x3D;&#x3D; 1) &#123;\n\t\t\t\t\t\tthat.$message(&#123;\n\t\t\t\t\t\t\tmessage: &#39;操作成功&#39;,\n\t\t\t\t\t\t\ttype: &#39;success&#39;,\n\t\t\t\t\t\t\tduration: 1200\n\t\t\t\t\t\t&#125;)\n\t\t\t\t\t\tthat.visible &#x3D; false;\n\t\t\t\t\t\tthat.$emit(&#39;refreshDataList&#39;);\n\t\t\t\t\t&#125; else &#123;\n\t\t\t\t\t\tthat.$message(&#123;\n\t\t\t\t\t\t\tmessage: &#39;操作失败&#39;,\n\t\t\t\t\t\t\ttype: &#39;error&#39;,\n\t\t\t\t\t\t\tduration: 1200\n\t\t\t\t\t\t&#125;)\n\t\t\t\t\t&#125;\n\t\t\t\t&#125;)\n\t\t\t&#125;\n\t\t&#125;)\n\t&#125;\n&#125;</code></pre>\n\n\n\n<h2 id=\"后端\"><a href=\"#后端\" class=\"headerlink\" title=\"后端\"></a>后端</h2><h3 id=\"DAO-1\"><a href=\"#DAO-1\" class=\"headerlink\" title=\"DAO\"></a>DAO</h3><h4 id=\"TbUserDao-1\"><a href=\"#TbUserDao-1\" class=\"headerlink\" title=\"TbUserDao:\"></a>TbUserDao:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public int insert(TbUser user);\npublic int update(HashMap param);</code></pre>\n\n<h4 id=\"Mapper\"><a href=\"#Mapper\" class=\"headerlink\" title=\"Mapper:\"></a>Mapper:</h4><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;insert id&#x3D;&quot;insert&quot; parameterType&#x3D;&quot;com.example.emos.api.db.pojo.TbUser&quot;&gt;\n  INSERT INTO tb_user\n  &lt;set&gt;\n    &lt;if test&#x3D;&quot;username!&#x3D;null&quot;&gt;\n      username&#x3D;#&#123;username&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;password!&#x3D;null&quot;&gt;\n      password&#x3D;HEX(AES_ENCRYPT(#&#123;newPassword&#125;, username)),\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;openId!&#x3D;null&quot;&gt;\n      open_id&#x3D;#&#123;openId&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;nickname!&#x3D;null&quot;&gt;\n      nickname&#x3D;#&#123;nickname&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;photo!&#x3D;null&quot;&gt;\n      photo&#x3D;#&#123;photo&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;name!&#x3D;null&quot;&gt;\n      name&#x3D;#&#123;name&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;sex!&#x3D;null&quot;&gt;\n      sex&#x3D;#&#123;sex&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;tel!&#x3D;null&quot;&gt;\n      tel&#x3D;#&#123;tel&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;email!&#x3D;null&quot;&gt;\n      email&#x3D;#&#123;email&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;hiredate!&#x3D;null&quot;&gt;\n      hiredate&#x3D;#&#123;hiredate&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;root!&#x3D;null&quot;&gt;\n      root&#x3D;#&#123;root&#125;,\n    &lt;&#x2F;if&gt;\n    &lt;if test&#x3D;&quot;deptId!&#x3D;null&quot;&gt;\n      dept_id&#x3D;#&#123;deptId&#125;,\n    &lt;&#x2F;if&gt;\n      status&#x3D;#&#123;status&#125;,\n      create_time&#x3D;#&#123;createTime&#125;\n  &lt;&#x2F;set&gt;\n&lt;&#x2F;insert&gt;\n\n&lt;update id&#x3D;&quot;update&quot; parameterType&#x3D;&quot;HashMap&quot;&gt;\n    UPDATE tb_user\n    &lt;set&gt;\n      &lt;if test&#x3D;&quot;username!&#x3D;null and password!&#x3D;null&quot;&gt;\n        username&#x3D;#&#123;username&#125;,\n        password&#x3D;HEX(AES_ENCRYPT(#&#123;newPassword&#125;, username)),\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;name!&#x3D;null&quot;&gt;\n        name&#x3D;#&#123;name&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;sex!&#x3D;null&quot;&gt;\n        sex&#x3D;#&#123;sex&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;tel!&#x3D;null&quot;&gt;\n        tel&#x3D;#&#123;tel&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;email!&#x3D;null&quot;&gt;\n        email&#x3D;#&#123;email&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;hiredate!&#x3D;null&quot;&gt;\n        hiredate&#x3D;#&#123;hiredate&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;role!&#x3D;null&quot;&gt;\n        role&#x3D;#&#123;role&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;root!&#x3D;null&quot;&gt;\n        root&#x3D;#&#123;root&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;deptId!&#x3D;null&quot;&gt;\n        dept_id&#x3D;#&#123;deptId&#125;,\n      &lt;&#x2F;if&gt;\n      &lt;if test&#x3D;&quot;status!&#x3D;null&quot;&gt;\n        status&#x3D;#&#123;status&#125;,\n      &lt;&#x2F;if&gt;\n        id&#x3D;id\n    &lt;&#x2F;set&gt;\n    WHERE id&#x3D;#&#123;userId&#125;\n  &lt;&#x2F;update&gt;</code></pre>\n\n<h3 id=\"Service\"><a href=\"#Service\" class=\"headerlink\" title=\"Service:\"></a>Service:</h3><h4 id=\"UserService-1\"><a href=\"#UserService-1\" class=\"headerlink\" title=\"UserService:\"></a>UserService:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public int insert(TbUser user);\npublic int update(HashMap param);</code></pre>\n\n<h4 id=\"UserServiceImpl-1\"><a href=\"#UserServiceImpl-1\" class=\"headerlink\" title=\"UserServiceImpl:\"></a>UserServiceImpl:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Override\npublic int insert(TbUser user) &#123;\n    return userDao.insert(user);\n&#125;\n\n@Override\n   public int update(HashMap param) &#123;\n       return userDao.update(param);\n   &#125;</code></pre>\n\n<h3 id=\"Controller-1\"><a href=\"#Controller-1\" class=\"headerlink\" title=\"Controller:\"></a>Controller:</h3><h4 id=\"InsertUserForm\"><a href=\"#InsertUserForm\" class=\"headerlink\" title=\"InsertUserForm:\"></a>InsertUserForm:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Data\n@Schema(description &#x3D; &quot;新增用户&quot;)\npublic class InsertUserForm &#123;\n\n    &#x2F;**\n     * 用户名\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;username不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^[a-zA-Z0-9]&#123;5,20&#125;$&quot;,message &#x3D; &quot;username格式不正确&quot;)\n    @Schema(description &#x3D; &quot;用户名&quot;)\n    private String username;\n\n\n    &#x2F;**\n     * 密码\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;password不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^[a-zA-Z0-9]&#123;6,20&#125;$&quot;,message &#x3D; &quot;password格式不正确&quot;)\n    @Schema(description &#x3D; &quot;密码&quot;)\n    private String password;\n\n    &#x2F;**\n     * 姓名\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;name不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^[\\\\u4e00-\\\\u9fa5]&#123;1,10&#125;$&quot;,message &#x3D; &quot;name格式不正确&quot;)\n    @Schema(description &#x3D; &quot;姓名&quot;)\n    private String name;\n\n    &#x2F;**\n     * 性别\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;sex不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^男$|^女$&quot;,message &#x3D; &quot;sex格式不正确&quot;)\n    @Schema(description &#x3D; &quot;性别&quot;)\n    private Object sex;\n\n    &#x2F;**\n     * 手机号码\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;tel不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^\\\\d&#123;10&#125;$&quot;,message &#x3D; &quot;tel格式不正确&quot;)\n    @Schema(description &#x3D; &quot;电话&quot;)\n    private String tel;\n\n    &#x2F;**\n     * 邮箱\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;email不能为空&quot;)\n    @Email(message &#x3D; &quot;email格式不正确&quot;)\n    @Schema(description &#x3D; &quot;邮箱&quot;)\n    private String email;\n\n    &#x2F;**\n     * 入职日期\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;hiredate不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^((((1[6-9]|[2-9]\\\\d)\\\\d&#123;2&#125;)-(0?[13578]|1[02])-(0?[1-9]|[12]\\\\d|3[01]))|(((1[6-9]|[2-9]\\\\d)\\\\d&#123;2&#125;)-(0?[13456789]|1[012])-(0?[1-9]|[12]\\\\d|30))|(((1[6-9]|[2-9]\\\\d)\\\\d&#123;2&#125;)-0?2-(0?[1-9]|1\\\\d|2[0-8]))|(((1[6-9]|[2-9]\\\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))$&quot;,message &#x3D; &quot;hiredate格式不正确&quot;)\n    @Schema(description &#x3D; &quot;入职时间&quot;)\n    private Date hiredate;\n\n    &#x2F;**\n     * 角色\n     *&#x2F;\n    @NotEmpty(message &#x3D; &quot;role不能为空&quot;)\n    @Schema(description &#x3D; &quot;角色&quot;)\n    private Integer[] role;\n\n    &#x2F;**\n     * 部门编号\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;deptId不能为空&quot;)\n    @Min(value &#x3D; 1,message &#x3D; &quot;deptId格式不正确&quot;)\n    @Schema(description &#x3D; &quot;部门&quot;)\n    private Integer deptId;\n\n&#125;</code></pre>\n\n<h4 id=\"UpdateUserForm\"><a href=\"#UpdateUserForm\" class=\"headerlink\" title=\"UpdateUserForm:\"></a>UpdateUserForm:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Data\n@Schema(description &#x3D; &quot;修改用户表单&quot;)\npublic class UpdateUserForm &#123;\n\n\n    @NotNull(message &#x3D; &quot;userId不能为空&quot;)\n    @Min(value &#x3D; 1,message &#x3D; &quot;userId不能为空不能小于1&quot;)\n    @Schema(description &#x3D; &quot;用户ID&quot;)\n    private Integer userId;\n    &#x2F;**\n     * 用户名\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;username不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^[a-zA-Z0-9]&#123;5,20&#125;$&quot;,message &#x3D; &quot;username格式不正确&quot;)\n    @Schema(description &#x3D; &quot;用户名&quot;)\n    private String username;\n\n\n    &#x2F;**\n     * 密码\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;password不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^[a-zA-Z0-9]&#123;6,20&#125;$&quot;,message &#x3D; &quot;password格式不正确&quot;)\n    @Schema(description &#x3D; &quot;密码&quot;)\n    private String password;\n\n    &#x2F;**\n     * 姓名\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;name不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^[\\\\u4e00-\\\\u9fa5]&#123;1,10&#125;$&quot;,message &#x3D; &quot;name格式不正确&quot;)\n    @Schema(description &#x3D; &quot;姓名&quot;)\n    private String name;\n\n    &#x2F;**\n     * 性别\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;sex不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^男$|^女$&quot;,message &#x3D; &quot;sex格式不正确&quot;)\n    @Schema(description &#x3D; &quot;性别&quot;)\n    private Object sex;\n\n    &#x2F;**\n     * 手机号码\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;tel不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^\\\\d&#123;10&#125;$&quot;,message &#x3D; &quot;tel格式不正确&quot;)\n    @Schema(description &#x3D; &quot;电话&quot;)\n    private String tel;\n\n    &#x2F;**\n     * 邮箱\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;email不能为空&quot;)\n    @Email(message &#x3D; &quot;email格式不正确&quot;)\n    @Schema(description &#x3D; &quot;邮箱&quot;)\n    private String email;\n\n    &#x2F;**\n     * 入职日期\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;hiredate不能为空&quot;)\n    @Pattern(regexp &#x3D; &quot;^((((1[6-9]|[2-9]\\\\d)\\\\d&#123;2&#125;)-(0?[13578]|1[02])-(0?[1-9]|[12]\\\\d|3[01]))|(((1[6-9]|[2-9]\\\\d)\\\\d&#123;2&#125;)-(0?[13456789]|1[012])-(0?[1-9]|[12]\\\\d|30))|(((1[6-9]|[2-9]\\\\d)\\\\d&#123;2&#125;)-0?2-(0?[1-9]|1\\\\d|2[0-8]))|(((1[6-9]|[2-9]\\\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))$&quot;,message &#x3D; &quot;hiredate格式不正确&quot;)\n    @Schema(description &#x3D; &quot;入职时间&quot;)\n    private Date hiredate;\n\n    &#x2F;**\n     * 角色\n     *&#x2F;\n    @NotEmpty(message &#x3D; &quot;role不能为空&quot;)\n    @Schema(description &#x3D; &quot;角色&quot;)\n    private Integer[] role;\n\n    &#x2F;**\n     * 部门编号\n     *&#x2F;\n    @NotBlank(message &#x3D; &quot;deptId不能为空&quot;)\n    @Min(value &#x3D; 1,message &#x3D; &quot;deptId格式不正确&quot;)\n    @Schema(description &#x3D; &quot;部门&quot;)\n    private Integer deptId;\n&#125;</code></pre>\n\n<h4 id=\"UserController-1\"><a href=\"#UserController-1\" class=\"headerlink\" title=\"UserController\"></a>UserController</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@PostMapping(&quot;&#x2F;insert&quot;)\n@Operation(summary &#x3D; &quot;新增用户&quot;)\n@SaCheckPermission(value &#x3D; &#123;&quot;ROOT&quot;, &quot;USER:INSERT&quot;&#125;, mode &#x3D; SaMode.OR)\npublic R insert(@Valid @RequestBody InsertUserForm form) &#123;\n    TbUser tbUser &#x3D; JSONUtil.parse(form).toBean(TbUser.class);\n    tbUser.setStatus((byte) 1);\n    tbUser.setRole(JSONUtil.parseArray(form.getRole()).toString());\n    tbUser.setCreateTime(new Date());\n    int rows &#x3D; userService.insert(tbUser);\n    return R.ok().put(&quot;rows&quot;, rows);\n&#125;\n@PostMapping(&quot;&#x2F;update&quot;)\n    @Operation(summary &#x3D; &quot;修改用户&quot;)\n    @SaCheckPermission(value &#x3D; &#123;&quot;ROOT&quot;, &quot;USER:UPDATE&quot;&#125;, mode &#x3D; SaMode.OR)\n    public R update(@Valid @RequestBody UpdateUserForm form) &#123;\n        HashMap map &#x3D; JSONUtil.parse(form).toBean(HashMap.class);\n        map.replace(&quot;role&quot;, JSONUtil.parseArray(form.getRole()).toString());\n        int rows &#x3D; userService.update(map);\n        if (rows &gt; 0) &#123;\n            StpUtil.logoutByLoginId(form.getUserId());\n        &#125;\n        return R.ok().put(&quot;rows&quot;, rows);\n    &#125;</code></pre>\n\n<h1 id=\"删除\"><a href=\"#删除\" class=\"headerlink\" title=\"删除\"></a>删除</h1><h2 id=\"前端-1\"><a href=\"#前端-1\" class=\"headerlink\" title=\"前端\"></a>前端</h2><h3 id=\"user-vue-2\"><a href=\"#user-vue-2\" class=\"headerlink\" title=\"user.vue\"></a>user.vue</h3><h4 id=\"template-2\"><a href=\"#template-2\" class=\"headerlink\" title=\"template:\"></a>template:</h4><pre class=\"line-numbers language-vue\" data-language=\"vue\"><code class=\"language-vue\">&lt;el-table :data&#x3D;&quot;dataList&quot; \n          border v-loading&#x3D;&quot;dataListLoading&quot; \n          @selection-change&#x3D;&quot;selectionChangeHandle&quot;\n          cell-style&#x3D;&quot;padding: 4px 0&quot; \n          style&#x3D;&quot;width: 100%;&quot; \n          size&#x3D;&quot;medium&quot;&gt;\n\t&lt;el-table-column type&#x3D;&quot;selection&quot; header-align&#x3D;&quot;center&quot; align&#x3D;&quot;center&quot; width&#x3D;&quot;50&quot; &#x2F;&gt;\n&lt;&#x2F;el-table&gt;\n&lt;el-button size&#x3D;&quot;medium&quot; type&#x3D;&quot;danger&quot; :disabled&#x3D;&quot;!isAuth([&#39;ROOT&#39;, &#39;USER:DELETE&#39;])&quot;\n\t\t\t\t\t@click&#x3D;&quot;deleteHandle()&quot;&gt;\n\t\t\t\t\t批量删除\n\t\t\t\t&lt;&#x2F;el-button&gt;\n&lt;el-button type&#x3D;&quot;text&quot; size&#x3D;&quot;medium&quot; :disabled&#x3D;&quot;scope.row.root&quot;\n\t\t\t\t\t\tv-if&#x3D;&quot;isAuth([&#39;ROOT&#39;, &#39;USER:DELETE&#39;])&quot; @click&#x3D;&quot;deleteHandle(scope.row.id)&quot;&gt;\n\t\t\t\t\t\t删除\n\t\t\t\t\t&lt;&#x2F;el-button&gt;</code></pre>\n\n<h4 id=\"script：\"><a href=\"#script：\" class=\"headerlink\" title=\"script：\"></a>script：</h4><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">selectionChangeHandle: function(val) &#123;\n\tthis.dataListSelections &#x3D; val;\n&#125;,\n          deleteHandle: function(id) &#123;\n\t\tlet that &#x3D; this;\n\t\tconsole.log(that.dataListSelections);\n\t\tlet ids &#x3D; id ? [id] : that.dataListSelections.map(item &#x3D;&gt; &#123;\n\t\t\treturn item.id\n\t\t&#125;);\n\t\tif (ids &#x3D;&#x3D; 0) &#123;\n\t\t\tthat.$message(&#123;\n\t\t\t\tmessage: &#39;没有选中记录&#39;,\n\t\t\t\ttype: &#39;warning&#39;,\n\t\t\t\tduration: 1200\n\t\t\t&#125;);\n\t\t&#125; else &#123;\n\t\t\tthat.$confirm(&#96;确定要删除选中的记录吗？&#96;, &#39;提示&#39;, &#123;\n\t\t\t\tconfirmButtonText: &#39;确定&#39;,\n\t\t\t\tcancelButtonText: &#39;取消&#39;,\n\t\t\t\ttype: &#39;warning&#39;\n\t\t\t&#125;).then(() &#x3D;&gt; &#123;\n\t\t\t\tthat.$http(&#39;user&#x2F;deleteUserByIds&#39;, &#39;POST&#39;, &#123;\n\t\t\t\t\tids: ids\n\t\t\t\t&#125;, true, function(resp) &#123;\n\t\t\t\t\tif (resp.rows &gt; 0) &#123;\n\t\t\t\t\t\talert(1)\n\t\t\t\t\t\tthat.$message(&#123;\n\t\t\t\t\t\t\tmessage: &#39;操作成功&#39;,\n\t\t\t\t\t\t\ttype: &#39;success&#39;,\n\t\t\t\t\t\t\tduration: 1200\n\t\t\t\t\t\t&#125;);\n\t\t\t\t\t\tthat.loadDataLiat();\n\t\t\t\t\t&#125; else &#123;\n\t\t\t\t\t\tthat.$message(&#123;\n\t\t\t\t\t\t\tmessage: &#39;删除失败&#39;,\n\t\t\t\t\t\t\ttype: &#39;warning&#39;,\n\t\t\t\t\t\t\tduration: 1200\n\t\t\t\t\t\t&#125;);\n\t\t\t\t\t&#125;\n\t\t\t\t&#125;);\n\t\t\t&#125;);\n\t\t&#125;\n\t&#125;</code></pre>\n\n\n\n<h2 id=\"后端-1\"><a href=\"#后端-1\" class=\"headerlink\" title=\"后端\"></a>后端</h2><h3 id=\"DAO-2\"><a href=\"#DAO-2\" class=\"headerlink\" title=\"DAO:\"></a>DAO:</h3><h4 id=\"TbUserDao-2\"><a href=\"#TbUserDao-2\" class=\"headerlink\" title=\"TbUserDao:\"></a>TbUserDao:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public int deleteUserByIds(Integer[] ids);</code></pre>\n\n<h4 id=\"Mapper-1\"><a href=\"#Mapper-1\" class=\"headerlink\" title=\"Mapper:\"></a>Mapper:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">&lt;delete id&#x3D;&quot;deleteUserByIds&quot; &gt;\n  DELETE FROM tb_user\n  WHERE id IN\n  &lt;foreach collection&#x3D;&quot;array&quot; open&#x3D;&quot;(&quot; separator&#x3D;&quot;，&quot; close&#x3D;&quot;)&quot; item&#x3D;&quot;one&quot;&gt;\n    #&#123;one&#125;\n  &lt;&#x2F;foreach&gt;\n      AND root&#x3D;False\n&lt;&#x2F;delete&gt;</code></pre>\n\n<h3 id=\"Service-1\"><a href=\"#Service-1\" class=\"headerlink\" title=\"Service:\"></a>Service:</h3><h4 id=\"UserService-2\"><a href=\"#UserService-2\" class=\"headerlink\" title=\"UserService:\"></a>UserService:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public int deleteUserByIds(Integer[] ids);</code></pre>\n\n<h4 id=\"Impl\"><a href=\"#Impl\" class=\"headerlink\" title=\"Impl:\"></a>Impl:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Override\npublic int deleteUserByIds(Integer[] ids) &#123;\n    return userDao.deleteUserByIds(ids);\n&#125;</code></pre>\n\n<h3 id=\"Controller-2\"><a href=\"#Controller-2\" class=\"headerlink\" title=\"Controller:\"></a>Controller:</h3><h4 id=\"DeleteUserByIdsForm\"><a href=\"#DeleteUserByIdsForm\" class=\"headerlink\" title=\"DeleteUserByIdsForm:\"></a>DeleteUserByIdsForm:</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@Data\n@Schema(description &#x3D; &quot;删除用户&quot;)\npublic class DeleteUserByIdsForm &#123;\n\n    @NotEmpty(message &#x3D; &quot;ids不能为空&quot;)\n    @Schema(description &#x3D; &quot;用户ID&quot;)\n    private Integer[] ids;\n\n&#125;</code></pre>\n\n<h4 id=\"UserController-2\"><a href=\"#UserController-2\" class=\"headerlink\" title=\"UserController\"></a>UserController</h4><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">@PostMapping(&quot;&#x2F;deleteUserByIds&quot;)\n@SaCheckPermission(value &#x3D; &#123;&quot;ROOT&quot;, &quot;USER:DELETE&quot;&#125;, mode &#x3D; SaMode.OR)\n@Operation(summary &#x3D; &quot;删除用户&quot;)\npublic R deleteUserByIds(@Valid @RequestBody DeleteUserByIdsForm form) &#123;\n    Integer userId &#x3D; StpUtil.getLoginIdAsInt();\n    Integer[] ids &#x3D; form.getIds();\n    if (ArrayUtil.contains(ids, userId)) &#123;\n        return R.error(&quot;您不能删除自己的账号&quot;);\n    &#125;\n    int rows &#x3D; userService.deleteUserByIds(ids);\n    if (rows &gt; 0) &#123;\n        for (Integer id : ids) &#123;\n            StpUtil.logoutByLoginId(id);\n        &#125;\n    &#125;\n    return R.ok().put(&quot;rows&quot;, rows);\n&#125;</code></pre>\n","feature":true,"text":"用户管理模块 查询Title:条件查询 移动端-&gt;UserController:1.searchUserByPage UserController-&gt;UserService:2.searchUserByPage UserService-&gt;TbUserDao:3....","link":"","photos":[],"count_time":{"symbolsCount":"25k","symbolsTime":"23 mins."},"categories":[{"name":"Java","slug":"Java","count":5,"path":"api/categories/Java.json"},{"name":"Vue","slug":"Java/Vue","count":4,"path":"api/categories/Java/Vue.json"}],"tags":[{"name":"springboot","slug":"springboot","count":4,"path":"api/tags/springboot.json"},{"name":"vue","slug":"vue","count":4,"path":"api/tags/vue.json"},{"name":"wx","slug":"wx","count":4,"path":"api/tags/wx.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">查询</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E7%AB%AF%EF%BC%9A\"><span class=\"toc-text\">前端：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#user-vue\"><span class=\"toc-text\">user.vue:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#template\"><span class=\"toc-text\">template:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#script\"><span class=\"toc-text\">script:</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%8E%E7%AB%AF%EF%BC%9A\"><span class=\"toc-text\">后端：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DAO\"><span class=\"toc-text\">DAO:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#TbUserDao\"><span class=\"toc-text\">TbUserDao:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#TbUserDao-xml\"><span class=\"toc-text\">TbUserDao.xml:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Service%EF%BC%9A\"><span class=\"toc-text\">Service：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserService\"><span class=\"toc-text\">UserService:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserServiceImpl\"><span class=\"toc-text\">UserServiceImpl:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Controller\"><span class=\"toc-text\">Controller:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#SearchUserByPageForm\"><span class=\"toc-text\">SearchUserByPageForm:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserController\"><span class=\"toc-text\">UserController:</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%A2%9E%E5%8A%A0-x2F-%E4%BF%AE%E6%94%B9\"><span class=\"toc-text\">增加&#x2F;修改</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E7%AB%AF\"><span class=\"toc-text\">前端</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#user-vue-1\"><span class=\"toc-text\">user.vue</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Template\"><span class=\"toc-text\">Template:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#script-1\"><span class=\"toc-text\">script:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#user-add-or-update-vue\"><span class=\"toc-text\">user-add-or-update.vue</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#template-1\"><span class=\"toc-text\">template:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#script-2\"><span class=\"toc-text\">script:</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%8E%E7%AB%AF\"><span class=\"toc-text\">后端</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DAO-1\"><span class=\"toc-text\">DAO</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#TbUserDao-1\"><span class=\"toc-text\">TbUserDao:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Mapper\"><span class=\"toc-text\">Mapper:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Service\"><span class=\"toc-text\">Service:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserService-1\"><span class=\"toc-text\">UserService:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserServiceImpl-1\"><span class=\"toc-text\">UserServiceImpl:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Controller-1\"><span class=\"toc-text\">Controller:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#InsertUserForm\"><span class=\"toc-text\">InsertUserForm:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UpdateUserForm\"><span class=\"toc-text\">UpdateUserForm:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserController-1\"><span class=\"toc-text\">UserController</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4\"><span class=\"toc-text\">删除</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E7%AB%AF-1\"><span class=\"toc-text\">前端</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#user-vue-2\"><span class=\"toc-text\">user.vue</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#template-2\"><span class=\"toc-text\">template:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#script%EF%BC%9A\"><span class=\"toc-text\">script：</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%8E%E7%AB%AF-1\"><span class=\"toc-text\">后端</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DAO-2\"><span class=\"toc-text\">DAO:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#TbUserDao-2\"><span class=\"toc-text\">TbUserDao:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Mapper-1\"><span class=\"toc-text\">Mapper:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Service-1\"><span class=\"toc-text\">Service:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserService-2\"><span class=\"toc-text\">UserService:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Impl\"><span class=\"toc-text\">Impl:</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Controller-2\"><span class=\"toc-text\">Controller:</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#DeleteUserByIdsForm\"><span class=\"toc-text\">DeleteUserByIdsForm:</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#UserController-2\"><span class=\"toc-text\">UserController</span></a></li></ol></li></ol></li></ol></li></ol>","author":{"name":"星桜","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"学习Java中","socials":{"github":"https://github.com/umrlll","twitter":"https://twitter.com/Smile_Amber234","stackoverflow":"","wechat":"","qq":"tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=1414018493&website=www.oicqzone.com","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/24956413"}}}},"mapped":true,"prev_post":{"title":"day03-角色管理模块","uid":"79eff727357b876604bb9d3e662b11e2","slug":"springboot-vue-wx-project/day03-角色管理模块","date":"2022-07-11T03:30:31.000Z","updated":"2022-07-11T07:51:37.542Z","comments":true,"path":"api/articles/springboot-vue-wx-project/day03-角色管理模块.json","keywords":"Java study learn 学习","cover":null,"text":"角色管理模块 查询前端：role.vueTemplate v-model&#x3D;&quot;dataForm.roleName&quot; &lt;el-button size&#x3D;&quot;medium&quot; type&#x3D;&quot;primary&q...","link":"","photos":[],"count_time":{"symbolsCount":"17k","symbolsTime":"15 mins."},"categories":[{"name":"Java","slug":"Java","count":5,"path":"api/categories/Java.json"},{"name":"Vue","slug":"Java/Vue","count":4,"path":"api/categories/Java/Vue.json"}],"tags":[{"name":"springboot","slug":"springboot","count":4,"path":"api/tags/springboot.json"},{"name":"vue","slug":"vue","count":4,"path":"api/tags/vue.json"},{"name":"wx","slug":"wx","count":4,"path":"api/tags/wx.json"}],"author":{"name":"星桜","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"学习Java中","socials":{"github":"https://github.com/umrlll","twitter":"https://twitter.com/Smile_Amber234","stackoverflow":"","wechat":"","qq":"tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=1414018493&website=www.oicqzone.com","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/24956413"}}}},"feature":true},"next_post":{"title":"day01-登录、登出、修改密码","uid":"2595e55bf451ea24b0a50ca7cbf81584","slug":"springboot-vue-wx-project/day01-登录、登出、修改密码","date":"2022-07-05T11:17:26.000Z","updated":"2022-07-11T07:51:25.142Z","comments":true,"path":"api/articles/springboot-vue-wx-project/day01-登录、登出、修改密码.json","keywords":"Java study learn 学习","cover":null,"text":"开发日记day01 环境：JDK15、SpringBoot、Vue、Redis、MySQL、RabbitMQ、MongoDB 数据库数据加密用到了 HEX(AES_ENCRYPT()) HEX():将一个字符串转换为十六进制格式的字符串 UNHEX():将十六进制格式的字符串转化...","link":"","photos":[],"count_time":{"symbolsCount":"9k","symbolsTime":"8 mins."},"categories":[{"name":"Java","slug":"Java","count":5,"path":"api/categories/Java.json"},{"name":"Vue","slug":"Java/Vue","count":4,"path":"api/categories/Java/Vue.json"}],"tags":[{"name":"springboot","slug":"springboot","count":4,"path":"api/tags/springboot.json"},{"name":"vue","slug":"vue","count":4,"path":"api/tags/vue.json"},{"name":"wx","slug":"wx","count":4,"path":"api/tags/wx.json"}],"author":{"name":"星桜","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"学习Java中","socials":{"github":"https://github.com/umrlll","twitter":"https://twitter.com/Smile_Amber234","stackoverflow":"","wechat":"","qq":"tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=1414018493&website=www.oicqzone.com","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/24956413"}}}}}}